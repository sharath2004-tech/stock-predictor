<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìà Stock Predictor Pro</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loader">
            <div class="spinner"></div>
            <p>Loading Stock Predictor...</p>
        </div>
    </div>

    <!-- Auth Container -->
    <div id="auth-container" class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h1>üîê Stock Predictor</h1>
                <p>Predict stock prices with AI-powered models</p>
            </div>
            
            <div class="auth-form">
                <input type="email" id="email" placeholder="Email Address" required>
                <input type="password" id="password" placeholder="Password" required>
                
                <div class="auth-buttons">
                    <button id="login-btn" onclick="login()">Login</button>
                    <button id="signup-btn" onclick="signup()">Sign Up</button>
                </div>
                
                <div class="divider">
                    <span>or</span>
                </div>
                
                <button class="demo-btn" onclick="loginAsDemo()">Try Demo</button>
            </div>
            
            <div id="auth-message"></div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app-container" class="container" style="display:none;">
        <div class="app-container">
            <!-- Header -->
            <header class="app-header">
                <div class="header-left">
                    <h1>üìà Stock Predictor Pro</h1>
                    <p>AI-Powered Stock Market Analysis</p>
                </div>
                <div class="header-right">
                    <span id="user-email" class="user-info"></span>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            </header>

            <!-- Controls Panel -->
            <div class="controls-panel">
                <div class="controls">
                    <div class="input-group">
                        <label for="ticker">Stock Symbol</label>
                        <input type="text" 
                               id="ticker" 
                               placeholder="e.g., AAPL, GOOGL, TATAPOWER.NS" 
                               title="Enter stock ticker symbol">
                        <div class="input-help">Examples: AAPL (Apple), GOOGL (Google), TATAPOWER.NS (Indian stocks)</div>
                    </div>
                    
                    <div class="input-group">
                        <label for="model">Prediction Model</label>
                        <select id="model" title="Choose prediction model">
                            <option value="RandomForest">Random Forest</option>
                            <option value="LinearRegression">Linear Regression</option>
                            <option value="GradientBoosting">Gradient Boosting</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="days">Prediction Days</label>
                        <input type="number" 
                               id="days" 
                               placeholder="Days to predict" 
                               value="30" 
                               min="1" 
                               max="365" 
                               title="Number of days to predict">
                    </div>
                    
                    <button class="analyze-btn" onclick="loadCandlestick()">
                        üîÆ Analyze & Predict
                    </button>
                </div>
            </div>

            <!-- Loading Indicator -->
            <div id="loading" class="loading" style="display:none;">
                <div class="spinner"></div>
                <p>Analyzing stock data and generating predictions...</p>
            </div>

            <!-- Results Section -->
            <div class="results-section">
                <!-- Performance Info -->
                <div id="performance-info" class="performance-info" style="display:none;"></div>
                
                <!-- Error Message -->
                <div id="error-message" class="error-message" style="display:none;"></div>
                
                <!-- Chart Container -->
                <div id="chart-container" class="chart-container">
                    <div id="chart"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/firebase-config.js"></script>
    <script src="js/chart-utils.js"></script>
    <script src="js/app.js"></script>
</body>
</html>